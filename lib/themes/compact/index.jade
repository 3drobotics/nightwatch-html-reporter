doctype html
html(lang="en")
	head
		title Nightwatch HTML Report
		script(type='text/javascript', src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js')
		style(type="text/css").
			body{
				margin: 10px;
				font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
				font-size: 0.8em;
			}

			h2{
				font-size: 1.2em;
				margin: 2px;
				padding: 0;
			}
			h3{
				font-size: 1em;
				padding: 0;
				margin: 0;
			}

			.toggleSuccess, .toggleError{
				margin-right: 10px;
			}

			.errmessages{
				background-color: rgba(238, 64, 64, 0.43);
				border: 1px solid rgba(235, 28, 28, 0.78);
				padding: 5px;
			}

			.errmessages h2{
				margin: 5px 0;
				font-size: 1em;
			}

			.errmessages .errors{
				display: none;
			}

			.package > .name {
			 	cursor: pointer;
			}

			.suites {
				margin-left: 30px;
				display: none;
			}

			.suite > .name {
				cursor: pointer;
			}

			ul{
				list-style: none;
			}

			.testcases {
				display: none;
			}

			.status{
				display: inline-block;
			}

			.testcase .name {
				display: inline-block;
			}

			.success{
				color: #ccc;
			}
			.testcase img{
				max-width: 80%;
			}
			.package.error .name{
				color: rgb(178, 43, 43);
			}
			.testcase.success .name{
				color: #ccc;
			}
			.testcase.error .status{
				color: rgb(178, 43, 43);
			}

		script(type='text/javascript').
			$(document).ready(function(){
				$('.package>.name').click(function(){
					$(this).siblings('.suites').slideToggle();
				});

				$('.suite, .errmessages').click(function(){
					var $elem = $(this);
					$elem.children('.testcases, .errors').slideToggle();
				});
				$('.toggleSuccess').click(function(){
					$('.package.success').slideToggle();
				});
				$('.toggleError').click(function(){
					$('.package.error').slideToggle();
				});
			});

	body
		h1 Nightwatch Results
		a.toggleSuccess(href='#') Show/Hide Successes
		#container
			if testRun.errmessages.length > 0
				div.errmessages
					h2 Errors
						span.count= ' (' + testRun.errmessages.length + ')'
					ul.errors
						each msg in testRun.errmessages
							li= msg

			each package in testRun.packages
				div(class= (package.isFailure) ? 'package error' : 'package success')
					h2.name!= (package.isFailure) ? '&#10005; ' + package.name : '&#10003; ' + package.name
					div.suites
						each suite in package.suites
							div(class= (suite.isFailure) ? 'suite error' : 'suite success')
								h3.name= suite.name
								ul.testcases
									each testCase in suite.testcases
										li(class= (testCase.isFailure) ? 'testcase error' : 'testcase success')
											if testCase.isFailure
												div.status &#10005;
												div.name= testCase.name + " " + testCase.failureMessage
												each sshot in testCase.screenshots
													div.screenshot
														img(src= sshot)
											else
												div.status &#10003;
												div.name= testCase.name
